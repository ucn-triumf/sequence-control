<!DOCTYPE html>
<html class="mcss">
<head>
   <meta charset="UTF-8">
   <link rel="stylesheet" href="midas.css">
   <script src="controls.js"></script>
   <script src="midas.js"></script>
   <script src="mhttpd.js"></script>
   <title>Sequencer</title>
   <style>
    .aParent div {
      float: left;
      clear: none; 
    }
   </style>
   <script>
   function set_tables(){

      // Period Duration Time Table
      
      var DurationTableText = '<table class="mtable" ><tr> <td></td><th colspan="20" class="mtableheader">Period Duration Times (Seconds)</th> ';
      DurationTableText +='<th colspan="8" class="mtableheader">Valve State</th>';
      DurationTableText +='<tr> <td> </td> <td colspan="20" style="text-align: center;">Cycles</td> <td colspan="8" style="text-align: center;">Valve #</td></tr><tr><td></td>';
      var i, j;
      for(i = 0; i < 20; i++){
         DurationTableText += '<td style="width: 30px;text-align: center;"> ' + i +' </td>';
      }
      for(i = 0; i < 8; i++){
         DurationTableText += '<td style="width: 30px;text-align: center;"> ' + i +' </td>';
      }
      DurationTableText += '</tr>'

      for(i = 0; i < 10; i++){
         var period = i + 1;
         DurationTableText += '<tr>'
         DurationTableText += '<td style="width: 100px;"> Period ' + period + '</td>';
         for(j = 0; j < 20; j++){

            DurationTableText += "<td style=''width: 30px; text-align: center;'> <div  name='modbvalue' data-odb-path='/Equipment/UCNSequencer2018/Settings/DurationTimePeriod" + period + "["+j+"]' data-odb-editable='1' ></div> </td>"
         }


         for(j = 0; j < 8; j++){
            var valve = j+1;
            DurationTableText += "<td style=''width: 30px; text-align: center;'> <input type='checkbox' name='modbcheckbox' data-odb-path='/Equipment/UCNSequencer2018/Settings/Valve"+valve+"State["+i+"]'></input></td>";
         }
         DurationTableText += '</tr>'
         
         
      }

      DurationTableText += '</table>';

      document.getElementById("DurationTable").innerHTML = DurationTableText;

   }
   </script>

</head>



<body class="mcss" onload="set_tables();mhttpd_init('Sequencer');">

<!-- header and side navigation will be filled in mhttpd_start -->
<div id="mheader"></div>
<div id="msidenav"></div>

<div id="mmain">

  <div class="aParent">
    <div>
      <table class="mtable">
        <tr>
          <th colspan="2" class="mtableheader">Overall Parameters</th>
        </tr>
        <tr>
          <td style="width: 300px;">
            Enable:
          </td>
          <td style="width: 200px;">       
            <input type="checkbox" name="modbcheckbox" data-odb-path="/Equipment/UCNSequencer2018/Settings/enable"></input>
          </td>
        </tr>
        <tr>
          <td style="width: 300px;">
            # Periods in Cycle:
          </td>
          <td style="width: 200px;">       
            <div  name="modbvalue" data-odb-path="/Equipment/UCNSequencer2018/Settings/numberPeriodsInCycle" data-odb-editable="1" ></div> 
          </td>
        </tr>
        <tr>
          <td style="width: 300px;">
            # Cycles in Super-Cycle:
          </td>
          <td style="width: 200px;">       
            <div  name="modbvalue" data-odb-path="/Equipment/UCNSequencer2018/Settings/numCyclesInSuper" data-odb-editable="1" ></div> 
          </td>
        </tr>
      </table>
    </div>

    <div>
      <table class="mtable">
        <tr>
          <th colspan="2" class="mtableheader">Configuration Notes</th>
        </tr>
        <tr>
          <td style="width: 200px;">
            Note 1:
          </td>
          <td style="">       
            Valve 1 is IV1 (UCN Valve)
          </td>
        </tr>
      </table>

    </div>

  </div>
  
  
  <div class="aParent">
    <div>
      <div id ="DurationTable">
        
      </div>

    </div>
        
  </div>

</body>
</html>
